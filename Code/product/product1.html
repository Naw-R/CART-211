<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artsify - Abstract Colors</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <script src="../assets/js/cart.js" defer></script>
</head>

<body>
    <!-- Header section -->
    <header>
        <div class="logo">Artsify</div>
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="../products.html">Products</a></li>
                <li><a href="../contact.html">Contact Us</a></li>
            </ul>
        </nav>
        <div class="icons">
            <!-- Profile Icon/Link -->
            <a href="../profile.html" class="profile-link">
                <img src="../assets/images/profile-icon.png" alt="Profile Icon" class="profile-icon">
            </a>
            <!-- Cart Icon/Link -->
            <a href="../checkout.html" class="cart">
                <img src="../assets/images/cart-icon.jpeg" alt="Cart Icon" class="cart-icon">
                <span id="cart-count">0</span>
            </a>
        </div>
    </header>

    <main>
        <!-- Product Detail Section -->
        <section class="product-detail">
            <img src="../assets/images/art1.jpg" alt="Abstract Colors Art">
            <div class="product-info">
                <h1>Abstract Colors</h1>
                <p>Price: <span class="price">CA$120</span></p>
                <p>Experience a unique burst of colors with this modern abstract piece. Perfect for contemporary spaces.
                </p>
                <p><strong>Dimensions:</strong> 24" x 36"</p>
                <p><strong>Materials:</strong> Canvas, Acrylic Paint</p>

                <!-- Add to Cart Button -->
                <button id="add-to-cart-btn" class="btn">Add to Cart</button>
                <!-- Notification for Product Added -->
                <p id="cart-notification" style="display:none; color: green;">Product added to cart!</p>
            </div>
        </section>

        <!-- Comment Section -->
        <section class="comment-section">
            <h2>Leave a Comment for the Seller</h2>
            <textarea id="comment-text" rows="4" placeholder="Write your comment here..."></textarea>
            <button id="submit-comment" class="btn">Submit Comment</button>
            <p id="comment-success" class="comment-success">Comment submitted successfully!</p>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Artsify. All rights reserved. Rowan Nasser</p>
    </footer>

    <!-- JavaScript -->
    <script>
        // Define the product object
        const product = {
            id: 1,
            name: 'Abstract Colors',
            price: 120,
            image: '../assets/images/art1.jpg',
            description: 'Experience a unique burst of colors with this modern abstract piece.'
        };

        // Function to handle the 'Add to Cart' click
        document.getElementById('add-to-cart-btn').addEventListener('click', function () {
            addToCart(product);  // Add product to the cart

            // Show the "Product added to cart" message
            const notificationEl = document.getElementById('cart-notification');
            notificationEl.style.display = 'block';

            // Hide the message after 3 seconds
            setTimeout(function () {
                notificationEl.style.display = 'none';
            }, 3000);

            // Update cart display count in header
            updateCartDisplay();
        });

        // Ensure the cart count is updated on page load
        document.addEventListener('DOMContentLoaded', function () {
            updateCartDisplay();  // Update cart count in header when the page loads
        });

        // Handle the comment form submission
        document.getElementById('submit-comment').addEventListener('click', function () {
            const commentText = document.getElementById('comment-text').value;

            if (commentText.trim() !== "") {
                // Save the comment or send it to the backend (for now, just show a success message)
                const successMessage = document.getElementById('comment-success');
                successMessage.style.display = 'block';

                // Clear the textarea after submission
                document.getElementById('comment-text').value = '';

                // Hide the success message after 3 seconds
                setTimeout(function () {
                    successMessage.style.display = 'none';
                }, 3000);
            } else {
                alert("Please write a comment before submitting.");
            }
        });
    </script>

</body>

</html>